import{d as Ue,p as Be,E as Ke,s as Xe,a as ne,b as Ae,S as W,r as ze,c as We,e as _t,g as bt,f as wt,h as ot,i as xt}from"../chunks/BLldXvkS.js";import{c as V,a as h,d as Re,f as L,p as kt,t as St}from"../chunks/BI_d0DeL.js";import"../chunks/DjSpb7oq.js";import{E as Et,G as Ct,aZ as Pt,aK as Rt,e as z,ac as jt,A as Tt,q as pe,a_ as Nt,ba as At,bb as Ot,aM as Vt,U as Dt,h as o,u as $t,aJ as st,aN as _,Q as S,d as Lt,p as U,aL as A,a as B,bc as ae,c as x,r as w,n as ue,bd as It,t as be,s as E,P as Z,i as G,as as Mt,be as Ee,bf as Ft,Z as Oe}from"../chunks/CW8k7sT-.js";import{s as re,e as le}from"../chunks/RHE62U-q.js";import{B as zt,i as $,r as oe,p as q,s as qt,a as Ve}from"../chunks/DuZFQS50.js";import{i as we}from"../chunks/CrtrQGyZ.js";import{w as Ze,a as Je,o as Ut}from"../chunks/u-egiAk0.js";function M(e,t,...r){var a=new zt(e);Et(()=>{const n=t()??null;a.ensure(n,n&&(s=>n(s,...r)))},Ct)}function qe(e,t,r=t){var a=new WeakSet;Pt(e,"input",async n=>{var s=n?e.defaultValue:e.value;if(s=De(e)?$e(s):s,r(s),pe!==null&&a.add(pe),await Rt(),s!==(s=t())){var d=e.selectionStart,u=e.selectionEnd,f=e.value.length;if(e.value=s??"",u!==null){var i=e.value.length;d===u&&u===f&&i>f?(e.selectionStart=i,e.selectionEnd=i):(e.selectionStart=d,e.selectionEnd=Math.min(u,i))}}}),(Tt&&e.defaultValue!==e.value||z(t)==null&&e.value)&&(r(De(e)?$e(e.value):e.value),pe!==null&&a.add(pe)),jt(()=>{var n=t();if(e===document.activeElement){var s=Nt??pe;if(a.has(s))return}De(e)&&n===$e(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function De(e){var t=e.type;return t==="number"||t==="range"}function $e(e){return e===""?null:+e}function Bt(e){return function(...t){var r=t[0];return r.preventDefault(),e?.apply(this,t)}}async function Kt(e){try{await Ue(500);const t=await fetch(Be("/stack"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const{error:a}=await t.json();throw new Error(a||"Error")}const r=await t.json();return r.stack.id=r.stack.id.toString(),{stack:r.stack,ok:!0}}catch(t){return console.error(t),{error:Ke.RESPONSE_ERROR,ok:!1}}}async function Wt(e,t){try{await Ue(500);const r=await fetch(Be(`/stack/${e}`),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const{error:n}=await r.json();throw new Error(n||"Error")}const a=await r.json();return a.stack.id=a.stack.id.toString(),{stack:a.stack,ok:!0}}catch(r){return console.error(r),{error:Ke.RESPONSE_ERROR,ok:!1}}}async function Zt(e){try{await Ue(500);const t=await fetch(Be(`/stack/${e}`),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const{error:a}=await t.json();throw new Error(a||"Error")}return{deletedId:(await t.json()).deletedId,ok:!0}}catch(t){return console.error(t),{error:Ke.RESPONSE_ERROR,ok:!1}}}const Jt=async()=>(Xe.forEach(e=>{e.id=e.id.toString()}),{stacks:Xe}),Jn=Object.freeze(Object.defineProperty({__proto__:null,load:Jt},Symbol.toStringTag,{value:"Module"})),_e=Ze([]),Y=Ze(null),Le=Ze(null),Gt=(e,t,r)=>{Y.set({id:e,state:"loading"}),Wt(e,t).then(a=>{a.error?Y.set({id:e,state:"error"}):(_e.update(n=>n.map(s=>s.id===a.stack.id?{...s,...a.stack}:s)),Y.set({id:e,state:"complete"})),typeof r=="function"&&r()})},Ht=(e,t)=>{Y.set({id:null,state:"loading",_new:!0}),Kt(e).then(r=>{r.error?Y.set({id:null,state:"error",_new:!0}):(_e.update(a=>[r.stack,...a]),Y.set({id:r.stack.id,state:"complete",_new:!0})),typeof t=="function"&&t()})},Xt=(e,t)=>{Y.set({id:e,state:"loading"}),Zt(e).then(r=>{r.error?Y.set({id:e,state:"error"}):(_e.update(a=>a.filter(n=>n.id!==r.deletedId&&!!r.deletedId)),Y.set({id:e,state:"complete"})),typeof t=="function"&&t()})};function Qt(e){const t=Symbol();return{key:t,consume(){return Ot(t)||e},provide(r){return At(t,r)}}}function Yt(e){return e==null?[]:Array.isArray(e)?e:[e]}var Qe=e=>e?.constructor.name==="Array",er=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!je(e[r],t[r]))return!1;return!0},je=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(Qe(e)&&Qe(t))return er(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const r=Object.keys(t??Object.create(null)),a=r.length;for(let n=0;n<a;n++)if(!Reflect.has(e,r[n]))return!1;for(let n=0;n<a;n++){const s=r[n];if(!je(e[s],t[s]))return!1}return!0},tr=e=>e!=null&&typeof e=="object",it=e=>typeof e=="number"&&!Number.isNaN(e),Ce=e=>typeof e=="string",ve=e=>typeof e=="function",rr=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),nr=e=>Object.prototype.toString.call(e),ct=Function.prototype.toString,ar=ct.call(Object),or=e=>{if(!tr(e)||nr(e)!="[object Object]"||cr(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const r=rr(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ct.call(r)==ar},sr=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,ir=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,cr=e=>sr(e)||ir(e),lr=e=>e(),ur=(...e)=>(...t)=>{e.forEach(function(r){r?.(...t)})},dr=e=>Number.isNaN(e),fr=e=>dr(e)?0:e,vr=(e,t,r)=>(fr(e)-t)/(r-t);function lt(e){if(!or(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(a=>typeof a=="string"),r={};for(const a of t){const n=e[a];n!==void 0&&(r[a]=lt(n))}return r}function gr(e,t){const r={},a={},n=new Set(t),s=Reflect.ownKeys(e);for(const d of s)n.has(d)?a[d]=e[d]:r[d]=e[d];return[a,r]}var mr=e=>function(r){return gr(r,e)};function Ye(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function pr(e,t){if(e==null)throw new Error(t())}var ut=e=>typeof e=="object"&&e!==null,hr=9,yr=e=>ut(e)&&e.nodeType===hr,_r=e=>ut(e)&&e===e.window;function br(e){if(!e)return!1;const t=e.getRootNode();return dt(t)===e}function wr(e){return yr(e)?e:_r(e)?e.document:e?.ownerDocument??document}function dt(e){let t=e.activeElement;for(;t?.shadowRoot;){const r=t.shadowRoot.activeElement;if(!r||r===t)break;t=r}return t}var xr=(...e)=>e.map(t=>t?.trim?.()).filter(Boolean).join(" "),kr=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,et=e=>{const t={};let r;for(;r=kr.exec(e);)t[r[1]]=r[2];return t},Sr=(e,t)=>{if(Ce(e)){if(Ce(t))return`${e};${t}`;e=et(e)}else Ce(t)&&(t=et(t));return Object.assign({},e??{},t??{})};function Er(...e){let t={};for(let r of e){if(!r)continue;for(let n in t){if(n.startsWith("on")&&typeof t[n]=="function"&&typeof r[n]=="function"){t[n]=ur(r[n],t[n]);continue}if(n==="className"||n==="class"){t[n]=xr(t[n],r[n]);continue}if(n==="style"){t[n]=Sr(t[n],r[n]);continue}t[n]=r[n]!==void 0?r[n]:t[n]}for(let n in r)t[n]===void 0&&(t[n]=r[n]);const a=Object.getOwnPropertySymbols(r);for(let n of a)t[n]=r[n]}return t}function Cr(e,t,r){let a=[],n;return s=>{const d=e(s);return(d.length!==a.length||d.some((f,i)=>!je(a[i],f)))&&(a=d,n=t(d,s)),n}}var fe=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(fe||{}),Ie="__init__";function Pr(e){const t=()=>e.getRootNode?.()??document,r=()=>wr(t());return{...e,getRootNode:t,getDoc:r,getWin:()=>r().defaultView??window,getActiveElement:()=>dt(t()),isActiveElement:br,getById:d=>t().getElementById(d)}}function Rr(e){return new Proxy({},{get(t,r){return r==="style"?a=>e({style:a}).style:e}})}var jr=()=>e=>Array.from(new Set(e));const tt={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function ft(e){let t="";for(let r in e){const a=e[r];a!=null&&(r.startsWith("--")||(r=r.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)),t+=`${r}:${a};`)}return t}const Tr=new Set("viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(","));function Nr(e){return e in tt?tt[e]:Tr.has(e)?e:e.toLowerCase()}function Ar(e,t){return e==="style"&&typeof t=="object"?ft(t):t}const Or=Rr(e=>{const t={};for(const r in e)t[Nr(r)]=Ar(r,e[r]);return t}),Vr=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Dr=e=>{const t={};let r;for(;r=Vr.exec(e);)t[r[1]]=r[2];return t};function se(...e){const t=[];for(const a of e)a&&"class"in a&&a.class!=null&&t.push(a.class);const r=Er(...e);return t.length>0&&(r.class=t.length===1?t[0]:t),"style"in r&&(typeof r.style=="string"&&(r.style=Dr(r.style)),r.style=ft(r.style)),r}function Pe(e){const t=e().defaultValue??e().value,r=e().isEqual??Object.is;let a=Vt(Dt(t));const n=_(()=>e().value!==void 0);let s={current:z(()=>o(a))},d={current:void 0};$t(()=>{const i=o(n)?e().value:o(a);s={current:i},d={current:i}});const u=i=>{const m=ve(i)?i(s.current):i,g=d.current;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:m,prev:g}),o(n)||S(a,m,!0),r(m,g)||e().onChange?.(m,g)};function f(){return o(n)?e().value:o(a)}return{initial:t,ref:s,get:f,set(i){(e().sync?st:lr)(()=>u(i))},invoke(i,m){e().onChange?.(i,m)},hash(i){return e().hash?.(i)??String(i)}}}Pe.cleanup=e=>{Je(()=>e())};Pe.ref=e=>{let t=e;return{get:()=>t,set:r=>{t=r}}};function $r(e){const t={current:e};return{get(r){return t.current[r]},set(r,a){t.current[r]=a}}}const Me=e=>typeof e=="function"?e():e,Lr=(e,t)=>{let r=[],a=!0;Lt(()=>{if(a){r=e.map(s=>Me(s)),a=!1;return}let n=!1;for(let s=0;s<e.length;s++)if(!je(r[s],Me(e[s]))){n=!0;break}n&&(r=e.map(s=>Me(s)),t())})};function Fe(e){return ve(e)?e():e}function Ir(e,t){const r=_(()=>{const{id:v,ids:y,getRootNode:O}=Fe(t);return Pr({id:v,ids:y,getRootNode:O})}),a=(...v)=>{e.debug&&console.log(...v)},n=_(()=>e.props?.({props:lt(Fe(t)),scope:o(r)})??Fe(t)),s=Mr(()=>o(n)),d=e.context?.({prop:s,bindable:Pe,get scope(){return o(r)},flush:rt,getContext(){return u},getComputed(){return H},getRefs(){return p},getEvent(){return c()}}),u={get(v){return d?.[v].get()},set(v,y){d?.[v].set(y)},initial(v){return d?.[v].initial},hash(v){const y=d?.[v].get();return d?.[v].hash(y)}};let f=new Map,i={current:null},m={current:null},g={current:{type:""}};const c=()=>({...g.current,current(){return g.current},previous(){return m.current}}),l=()=>({...K,hasTag(v){const y=K.get();return!!e.states[y]?.tags?.includes(v)},matches(...v){const y=K.get();return v.includes(y)}}),p=$r(e.refs?.({prop:s,context:u})??{}),C=()=>({state:l(),context:u,event:c(),prop:s,send:X,action:T,guard:P,track:Lr,refs:p,computed:H,flush:rt,scope:o(r),choose:R}),T=v=>{const y=ve(v)?v(C()):v;if(!y)return;const O=y.map(N=>{const D=e.implementations?.actions?.[N];return D||Ye(`[zag-js] No implementation found for action "${JSON.stringify(N)}"`),D});for(const N of O)N?.(C())},P=v=>ve(v)?v(C()):e.implementations?.guards?.[v](C()),k=v=>{const y=ve(v)?v(C()):v;if(!y)return;const O=y.map(D=>{const F=e.implementations?.effects?.[D];return F||Ye(`[zag-js] No implementation found for effect "${JSON.stringify(D)}"`),F}),N=[];for(const D of O){const F=D?.(C());F&&N.push(F)}return()=>N.forEach(D=>D?.())},R=v=>Yt(v).find(y=>{let O=!y.guard;return Ce(y.guard)?O=!!P(y.guard):ve(y.guard)&&(O=y.guard(C())),O}),H=v=>{pr(e.computed,()=>"[zag-js] No computed object found on machine");const y=e.computed[v];return y({context:u,event:c(),prop:s,refs:p,scope:o(r),computed:H})},K=Pe(()=>({defaultValue:e.initialState({prop:s}),onChange(v,y){y&&(f.get(y)?.(),f.delete(y)),y&&T(e.states[y]?.exit),T(i.current?.actions);const O=k(e.states[v]?.effects);if(O&&f.set(v,O),y===Ie){T(e.entry);const N=k(e.effects);N&&f.set(Ie,N)}T(e.states[v]?.entry)}}));let J=fe.NotStarted;Ut(()=>{const v=J===fe.Started;J=fe.Started,a(v?"rehydrating...":"initializing..."),K.invoke(K.initial,Ie)}),Je(()=>{a("unmounting..."),J=fe.Stopped,f.forEach(v=>v?.()),f=new Map,i.current=null,T(e.exit)});const X=v=>{if(J!==fe.Started)return;m.current=g.current,g.current=v;let y=K.get();const O=e.states[y].on?.[v.type]??e.on?.[v.type],N=R(O);if(!N)return;i.current=N;const D=N.target??y;a("transition",v.type,N.target||y,`(${N.actions})`);const F=D!==y;F?K.set(D):N.reenter&&!F?K.invoke(y,y):T(N.actions)};return e.watch?.(C()),{get state(){return l()},send:X,context:u,prop:s,get scope(){return o(r)},refs:p,computed:H,get event(){return c()},getStatus:()=>J}}function Mr(e){return function(r){return e()[r]}}function rt(e){st(()=>{queueMicrotask(()=>e())})}var ye=(e,t=[])=>({parts:(...r)=>{if(Fr(t))return ye(e,r);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...r)=>ye(e,[...t,...r]),omit:(...r)=>ye(e,t.filter(a=>!r.includes(a))),rename:r=>ye(r,t),keys:()=>t,build:()=>[...new Set(t)].reduce((r,a)=>Object.assign(r,{[a]:{selector:[`&[data-scope="${de(e)}"][data-part="${de(a)}"]`,`& [data-scope="${de(e)}"][data-part="${de(a)}"]`].join(", "),attrs:{"data-scope":de(e),"data-part":de(a)}}}),{})}),de=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Fr=e=>e.length===0;const ee=Qt();var zr=Re("<circle></circle>");function qr(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=ee.consume(),n=_(()=>t.element),s=_(()=>ae(r,["element"])),d=_(()=>se(a().getCircleRangeProps(),{"stroke-linecap":"round"},o(s)));var u=V(),f=A(u);{var i=g=>{var c=V(),l=A(c);M(l,()=>o(n),()=>o(d)),h(g,c)},m=g=>{var c=zr();ne(c,()=>({...o(d)})),h(g,c)};$(f,g=>{o(n)?g(i):g(m,!1)})}h(e,u),B()}var Ur=Re("<circle></circle>");function Br(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=ee.consume(),n=_(()=>t.element),s=_(()=>ae(r,["element"])),d=_(()=>se(a().getCircleTrackProps(),o(s)));var u=V(),f=A(u);{var i=g=>{var c=V(),l=A(c);M(l,()=>o(n),()=>o(d)),h(g,c)},m=g=>{var c=Ur();ne(c,()=>({...o(d)})),h(g,c)};$(f,g=>{o(n)?g(i):g(m,!1)})}h(e,u),B()}var Kr=Re("<svg><!></svg>");function Wr(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=ee.consume(),n=_(()=>t.element),s=_(()=>t.children),d=_(()=>ae(r,["element","children"])),u=_(()=>se(a().getCircleProps(),o(d)));var f=V(),i=A(f);{var m=c=>{var l=V(),p=A(l);M(p,()=>o(n),()=>o(u)),h(c,l)},g=c=>{var l=Kr();ne(l,()=>({...o(u)}));var p=x(l);M(p,()=>o(s)??ue),w(l),h(c,l)};$(i,c=>{o(n)?c(m):c(g,!1)})}h(e,f),B()}var Zr=L("<div><!></div>");function Jr(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=ee.consume(),n=_(()=>t.element),s=_(()=>t.children),d=_(()=>ae(r,["element","children"])),u=_(()=>se(a().getLabelProps(),o(d)));var f=V(),i=A(f);{var m=c=>{var l=V(),p=A(l);M(p,()=>o(n),()=>o(u)),h(c,l)},g=c=>{var l=Zr();ne(l,()=>({...o(u)}));var p=x(l);M(p,()=>o(s)??ue),w(l),h(c,l)};$(i,c=>{o(n)?c(m):c(g,!1)})}h(e,f),B()}var Gr=L("<div><!></div>");function Hr(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=ee.consume(),n=_(()=>t.element),s=_(()=>t.children),d=_(()=>ae(r,["element","children"])),u=_(()=>se(a().getRangeProps(),o(d)));var f=V(),i=A(f);{var m=c=>{var l=V(),p=A(l);M(p,()=>o(n),()=>o(u)),h(c,l)},g=c=>{var l=Gr();ne(l,()=>({...o(u)}));var p=x(l);M(p,()=>o(s)??ue),w(l),h(c,l)};$(i,c=>{o(n)?c(m):c(g,!1)})}h(e,f),B()}function Xr(e,t){U(t,!0);const r=ee.consume(),a=_(()=>t.children);var n=V(),s=A(n);M(s,()=>o(a),()=>r),h(e,n),B()}var Qr=L("<div><!></div>");function Yr(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=_(()=>t.element),n=_(()=>t.children),s=_(()=>t.value),d=_(()=>ae(r,["element","children","value"])),u=_(()=>se(o(s)().getRootProps(),o(d)));ee.provide(()=>o(s)());var f=V(),i=A(f);{var m=c=>{var l=V(),p=A(l);M(p,()=>o(a),()=>o(u)),h(c,l)},g=c=>{var l=Qr();ne(l,()=>({...o(u)}));var p=x(l);M(p,()=>o(n)??ue),w(l),h(c,l)};$(i,c=>{o(a)?c(m):c(g,!1)})}h(e,f),B()}var en=ye("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),te=en.build(),tn=e=>e.ids?.root??`progress-${e.id}`,rn=e=>e.ids?.track??`progress-${e.id}-track`,nn=e=>e.ids?.label??`progress-${e.id}-label`,an=e=>e.ids?.circle??`progress-${e.id}-circle`;function on(e,t){const{context:r,computed:a,prop:n,send:s,scope:d}=e,u=a("percent"),f=a("isIndeterminate")?"":a("formatter").format(u/100),i=n("max"),m=n("min"),g=n("orientation"),c=n("translations"),l=a("isIndeterminate"),p=r.get("value"),C=c?.value({value:p,max:i,percent:u,min:m,formatter:a("formatter")})??"",T=sn(p,i),P={role:"progressbar","aria-label":C,"data-max":i,"aria-valuemin":m,"aria-valuemax":i,"aria-valuenow":p??void 0,"data-orientation":g,"data-state":T},k=ln(e);return{value:p,valueAsString:C,min:m,max:i,percent:u,percentAsString:f,indeterminate:l,setValue(R){s({type:"VALUE.SET",value:R})},setToMax(){s({type:"VALUE.SET",value:i})},setToMin(){s({type:"VALUE.SET",value:m})},getRootProps(){return t.element({dir:n("dir"),...te.root.attrs,id:tn(d),"data-max":i,"data-value":p??void 0,"data-state":T,"data-orientation":g,style:{"--percent":l?void 0:u}})},getLabelProps(){return t.element({dir:n("dir"),id:nn(d),...te.label.attrs,"data-orientation":g})},getValueTextProps(){return t.element({dir:n("dir"),"aria-live":"polite",...te.valueText.attrs})},getTrackProps(){return t.element({dir:n("dir"),id:rn(d),...te.track.attrs,...P})},getRangeProps(){return t.element({dir:n("dir"),...te.range.attrs,"data-orientation":g,"data-state":T,style:{[a("isHorizontal")?"width":"height"]:l?void 0:`${u}%`}})},getCircleProps(){return t.element({dir:n("dir"),id:an(d),...te.circle.attrs,...P,...k.root})},getCircleTrackProps(){return t.element({dir:n("dir"),"data-orientation":g,...te.circleTrack.attrs,...k.track})},getCircleRangeProps(){return t.element({dir:n("dir"),...te.circleRange.attrs,...k.range,"data-state":T})},getViewProps(R){return t.element({dir:n("dir"),...te.view.attrs,"data-state":R.state,hidden:R.state!==T})}}}function sn(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}var nt={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}},cn={style:{width:"var(--size)",height:"var(--size)"}};function ln(e){const{context:t,computed:r}=e;return{root:cn,track:nt,range:{opacity:t.get("value")===0?0:void 0,style:{...nt.style,"--percent":r("percent"),"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:r("isIndeterminate")?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}var un={props({props:e}){const t=e.min??0,r=e.max??100;return{orientation:"horizontal",...e,max:r,min:t,defaultValue:e.defaultValue!==void 0?e.defaultValue:vn(t,r),formatOptions:{style:"percent",...e.formatOptions},translations:{value:({value:a,percent:n,formatter:s})=>{if(a===null)return"loading...";if(s){const u=s.resolvedOptions().style==="percent"?n/100:a;return s.format(u)}return a.toString()},...e.translations}}},initialState(){return"idle"},entry:["validateContext"],context({bindable:e,prop:t}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){t("onValueChange")?.({value:r})}}))}},computed:{isIndeterminate:({context:e})=>e.get("value")===null,percent({context:e,prop:t}){const r=e.get("value");return it(r)?vr(r,t("min"),t("max"))*100:-1},formatter:Cr(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>new Intl.NumberFormat(e,t)),isHorizontal:({prop:e})=>e("orientation")==="horizontal"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}},implementations:{actions:{setValue:({context:e,event:t,prop:r})=>{const a=t.value===null?null:Math.max(0,Math.min(t.value,r("max")));e.set("value",a)},validateContext:({context:e,prop:t})=>{const r=t("max"),a=t("min"),n=e.get("value");if(n!=null){if(!Ge(r))throw new Error(`[progress] The max value passed \`${r}\` is not a valid number`);if(!dn(n,r))throw new Error(`[progress] The value passed \`${n}\` exceeds the max value \`${r}\``);if(!fn(n,a))throw new Error(`[progress] The value passed \`${n}\` exceeds the min value \`${a}\``)}}}}},Ge=e=>it(e)&&!isNaN(e),dn=(e,t)=>Ge(e)&&e<=t,fn=(e,t)=>Ge(e)&&e>=t,vn=(e,t)=>e+(t-e)/2,gn=jr()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]),mn=mr(gn);function pn(e){const t=Ir(un,e),r=_(()=>on(t,Or));return()=>o(r)}var hn=L("<div><!></div>");function yn(e,t){const r=kt();U(t,!0);const a=oe(t,["$$slots","$$events","$$legacy"]),n=_(()=>mn(a)),s=_(()=>It(o(n),2)),d=_(()=>o(s)[0]),u=_(()=>o(s)[1]),f=_(()=>o(u).element),i=_(()=>o(u).children),m=_(()=>ae(o(u),["element","children"])),g=pn(()=>({...o(d),id:r})),c=_(()=>se(g().getRootProps(),o(m)));ee.provide(()=>g());var l=V(),p=A(l);{var C=P=>{var k=V(),R=A(k);M(R,()=>o(f),()=>o(c)),h(P,k)},T=P=>{var k=hn();ne(k,()=>({...o(c)}));var R=x(k);M(R,()=>o(i)??ue),w(k),h(P,k)};$(p,P=>{o(f)?P(C):P(T,!1)})}h(e,l),B()}var _n=L("<div><!></div>");function bn(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=ee.consume(),n=_(()=>t.element),s=_(()=>t.children),d=_(()=>ae(r,["element","children"])),u=_(()=>se(a().getTrackProps(),o(d)));var f=V(),i=A(f);{var m=c=>{var l=V(),p=A(l);M(p,()=>o(n),()=>o(u)),h(c,l)},g=c=>{var l=_n();ne(l,()=>({...o(u)}));var p=x(l);M(p,()=>o(s)??ue),w(l),h(c,l)};$(i,c=>{o(n)?c(m):c(g,!1)})}h(e,f),B()}var wn=L("<span><!></span>");function xn(e,t){U(t,!0);const r=oe(t,["$$slots","$$events","$$legacy"]),a=ee.consume(),n=_(()=>t.element),s=_(()=>t.children),d=_(()=>ae(r,["element","children"])),u=_(()=>se(a().getValueTextProps(),o(d)));var f=V(),i=A(f);{var m=c=>{var l=V(),p=A(l);M(p,()=>o(n),()=>o(u)),h(c,l)},g=c=>{var l=wn();ne(l,()=>({...o(u)}));var p=x(l);{var C=P=>{var k=V(),R=A(k);M(R,()=>o(s)??ue),h(P,k)},T=P=>{var k=St();be(R=>re(k,R),[()=>a().percentAsString]),h(P,k)};$(p,P=>{o(s)?P(C):P(T,!1)})}w(l),h(c,l)};$(i,c=>{o(n)?c(m):c(g,!1)})}h(e,f),B()}const he=Object.assign(yn,{Provider:Yr,Context:Xr,Label:Jr,ValueText:xn,Track:bn,Range:Hr,Circle:Wr,CircleTrack:Br,CircleRange:qr});var kn=L("<!> <!>",1),Sn=L("<!> <!>",1);function vt(e){he(e,{class:" progress-icon w-fit max-w-5 items-center justify-center",value:null,children:(t,r)=>{var a=Sn(),n=A(a);he.Circle(n,{class:"mt-2 [--size:--spacing(6)] ",children:(d,u)=>{var f=kn(),i=A(f);he.CircleTrack(i,{});var m=E(i,2);he.CircleRange(m,{}),h(d,f)},$$slots:{default:!0}});var s=E(n,2);he.ValueText(s,{}),h(t,a)},$$slots:{default:!0}})}var En=Re('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 13v4"></path><path d="M15 5v4"></path><path d="M3 3v16a2 2 0 0 0 2 2h16"></path><rect x="7" y="13" width="9" height="4" rx="1"></rect><rect x="7" y="5" width="12" height="4" rx="1"></rect></svg>');function gt(e,t){let r=q(t,"color",8,"#000000"),a=q(t,"size",8,24);var n=En();be(()=>{Ae(n,"width",a()),Ae(n,"height",a()),Ae(n,"stroke",r())}),h(e,n)}var Cn=L('<p class="absolute mt-1 text-xs text-[var(--color-warning)]">Required and ≤ 100 characters</p>'),Pn=L('<p class="absolute mt-1 text-xs text-[var(--color-warning)]">Required and ≤ 100 characters</p>'),Rn=L('<p class="absolute mt-1 text-xs text-[var(--color-warning)]">Must be Draft or Published</p>'),jn=L('<div class="min-h-8 min-w-5">&nbsp;</div>'),Tn=L('<form><div class="flex w-16 justify-center"><!></div> <div class="relative w-1/3"><input placeholder="Title" class="text-dark w-[90%] rounded border px-2 py-2 text-sm"/> <!></div> <div class="relative w-40"><input placeholder="Author" class="text-dark w-[90%] rounded border px-2 py-2 text-sm"/> <!></div> <div class="text-dark w-40 text-sm"> </div> <div class="w-32"><select id="status" class="text-dark w-full rounded border p-2 text-sm"><option>Published</option><option>Draft</option></select> <!></div> <div class="form-actions flex min-h-9 w-80 items-center justify-end gap-2 svelte-5y209g"><button type="submit" class="min-h-9 rounded bg-[var(--bg-color)] px-3 py-1 text-sm text-white"> </button> <button class="min-h-9 rounded bg-[var(--bg-color)] px-3 py-1 text-sm text-white"> </button> <button class="text-secondary min-h-9 rounded bg-[var(--color-warning)] px-3 py-1 text-sm">Delete</button> <!> <!></div></form>');function at(e,t){U(t,!1);let r=q(t,"stack",24,()=>({id:"",title:"",status:W.Draft,author:"",createdAt:""})),a=q(t,"mode",8,"edit"),n=q(t,"updating",8,!1),s=q(t,"onUpdate",8),d=q(t,"onCancel",8),u=q(t,"onDelete",8),f=Z(r().title),i=Z(r().status||W.Draft),m=Z(r().author),g=Z(!0),c=Z(!0),l=Z(!0);function p(){if(S(g,!0),S(c,!0),S(l,!0),(!o(f).trim()||o(f).trim().length>100)&&S(g,!1),(!o(m).trim()||o(m).trim().length>100)&&S(c,!1),o(i)!==W.Draft&&o(i)!==W.Published&&S(l,!1),!o(g)||!o(c)||!o(l))return;let b=r().id,Q=r().createdAt;a()==="new"&&(b=wt(),Q=bt()),s()(b,{title:o(f).trim(),author:o(m).trim(),status:o(i),createdAt:Q})}we();var C=Tn(),T=x(C),P=x(T);gt(P,{color:"var(--text-primary-dark)"}),w(T);var k=E(T,2),R=x(k);ze(R);var H=E(R,2);{var K=b=>{var Q=Cn();h(b,Q)};$(H,b=>{o(g)||b(K)})}w(k);var J=E(k,2),X=x(J);ze(X);var v=E(X,2);{var y=b=>{var Q=Pn();h(b,Q)};$(v,b=>{o(c)||b(y)})}w(J);var O=E(J,2),N=x(O,!0);w(O);var D=E(O,2),F=x(D),ge=x(F),xe={},j=E(ge),I={};w(F);var ke=E(F,2);{var Te=b=>{var Q=Rn();h(b,Q)};$(ke,b=>{o(l)||b(Te)})}w(D);var Se=E(D,2),me=x(Se),ie=x(me,!0);w(me);var ce=E(me,2),mt=x(ce,!0);w(ce);var Ne=E(ce,2),He=E(Ne,2);{var pt=b=>{vt(b)};$(He,b=>{n()===!0&&b(pt)})}var ht=E(He,2);{var yt=b=>{var Q=jn();h(b,Q)};$(ht,b=>{n()!==!0&&b(yt)})}w(Se),w(C),be(b=>{We(C,1,(G(r()),z(()=>`stack-edit-item off flex min-h-25 items-center bg-blue-50 p-4 stack-edit-item-${r().id}`)),"svelte-5y209g"),re(N,b),xe!==(xe=(G(W),z(()=>W.Published)))&&(ge.value=(ge.__value=(G(W),z(()=>W.Published)))??""),I!==(I=(G(W),z(()=>W.Draft)))&&(j.value=(j.__value=(G(W),z(()=>W.Draft)))??""),re(ie,a()==="new"?"Add":"Update"),re(mt,a()==="new"?"Cancel":"View"),Ne.disabled=a()==="new"},[()=>(G(a()),G(r()),z(()=>a()==="new"?"—":new Date(r().createdAt).toLocaleDateString()))]),qe(R,()=>o(f),b=>S(f,b)),qe(X,()=>o(m),b=>S(m,b)),_t(F,()=>o(i),b=>S(i,b)),le("click",ce,function(...b){d()?.apply(this,b)}),le("click",Ne,()=>u()(r().id)),le("submit",C,Bt(p)),h(e,C),B()}var Nn=L('<div class="min-h-9 min-w-5">&nbsp;</div>'),An=L('<div><div class="flex w-16 justify-center"><!></div> <div class="title-item w-1/3 truncate font-medium"> </div> <div class="author-item w-40 text-sm"> </div> <div class="date-item w-40 text-sm"> </div> <div class="status-item w-32 text-sm"> </div> <div class="edit-item flex min-h-9 w-80 items-center justify-end gap-2"><button class="text-secondary min-h-9 rounded bg-[var(--bg-color-reverse)] px-3 py-1 text-sm">Edit</button> <button class="text-secondary delete-item min-h-9 rounded bg-[var(--color-warning)] px-3 py-1 text-sm">Delete</button> <!> <!></div></div>');function On(e,t){U(t,!1);let r=q(t,"stack",8),a=q(t,"updating",8,!1),n=q(t,"onEdit",8),s=q(t,"onDelete",8);we();var d=An(),u=x(d),f=x(u);gt(f,{color:"var(--text-color)"}),w(u);var i=E(u,2),m=x(i,!0);w(i);var g=E(i,2),c=x(g,!0);w(g);var l=E(g,2),p=x(l,!0);w(l);var C=E(l,2),T=x(C,!0);w(C);var P=E(C,2),k=x(P),R=E(k,2),H=E(R,2);{var K=v=>{vt(v)};$(H,v=>{a()===!0&&v(K)})}var J=E(H,2);{var X=v=>{var y=Nn();h(v,y)};$(J,v=>{a()!==!0&&v(X)})}w(P),w(d),be(v=>{We(d,1,(G(r()),z(()=>`stack-view-item flex items-center p-4 transition-colors stack-view-item-${r().id}`)),"svelte-1dke3p1"),re(m,(G(r()),z(()=>r().title))),re(c,(G(r()),z(()=>r().author))),re(p,v),re(T,(G(r()),z(()=>r().status)))},[()=>(G(r()),z(()=>new Date(r().createdAt).toLocaleDateString()))]),le("click",k,()=>n()(r().id)),le("click",R,()=>s()(r().id)),h(e,d),B()}var Vn=L('<div class="search-bar flex items-center justify-center space-x-2 svelte-1gay34q"><input id="searchInput" type="text" placeholder="Search by title or author" class="text-dark w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-[var(--ochre)] focus:outline-none"/> <span class="shortcut-icon text-sm svelte-1gay34q">⌘ + F</span></div>');function Dn(e,t){U(t,!1);let r=q(t,"onSearch",8),a=Z("");const n=()=>{r()(o(a))},s=f=>{f.ctrlKey&&f.key==="f"&&(f.preventDefault(),document.getElementById("searchInput")?.focus())};typeof window=="object"&&window.addEventListener("keydown",s),Je(()=>{typeof window=="object"&&window.removeEventListener("keydown",s)}),we();var d=Vn(),u=x(d);ze(u),Mt(2),w(d),qe(u,()=>o(a),f=>S(a,f)),le("input",u,n),h(e,d),B()}var $n=L("<button><span> </span></button>"),Ln=L('<div class="flex min-h-10 gap-4"></div>');function In(e,t){U(t,!1);let r=q(t,"selectedStatus",8),a=q(t,"toggle",8);const n=[W.Draft,W.Published];we();var s=Ln();ot(s,5,()=>n,xt,(d,u)=>{var f=$n(),i=x(f),m=x(i,!0);w(i),w(f),be(()=>{We(f,1,`chip text-[15px] capitalize ${r()===o(u)?"preset-filled":"preset-tonal"}`),re(m,o(u))}),le("click",f,()=>a()(r()===o(u)?null:o(u))),h(d,f)}),w(s),h(e,s),B()}var Mn=L('<section class="w-ful mx-auto mb-20"><h1 class="mb-6 text-2xl font-bold">Stack List</h1> <div class="mb-8 flex items-center justify-center space-x-6"><button class="text-secondary add-new-stack rounded bg-[var(--color-warning)] px-4 py-2 font-bold">Add</button> <!> <!></div> <div class="flex items-center border-b bg-gray-100 p-4 text-sm font-semibold text-gray-600"><div class="w-16"></div> <div class="w-1/3">Title</div> <div class="w-40">Author</div> <div class="w-40">Created</div> <div class="w-32">Status</div> <div class="w-80 text-center">Actions</div></div> <div class="flex flex-col divide-y"><!> <!></div></section>');function Gn(e,t){U(t,!1);const r=()=>Ve(Y,"$stackState",s),a=()=>Ve(_e,"$stackFormStore",s),n=()=>Ve(Le,"$dataLoaded",s),[s,d]=qt();let u=q(t,"data",8),f=Z([]),i=Z(null),m=Z(!1),g=Z(),c=Z([]),l=Z(""),p=Z();const C=j=>{S(l,j)},T=(j,I)=>{Gt(j,I,()=>{S(i,null),S(m,!1)})},P=(j,I)=>{Ht(I,()=>{S(i,null),S(m,!1)})},k=j=>{S(i,j),S(m,!1)},R=j=>{Xt(j,()=>{S(i,null),S(m,!1)})},H=()=>{S(i,null),S(m,!1)},K=()=>{S(i,null),S(m,!0)};function J(j){S(g,j)}Ee(()=>r(),()=>{S(p,r()?.state==="loading"?r()._new?"new":r().id:null)}),Ee(()=>(G(u()),a(),n(),Le),()=>{u()?.stacks&&!a().length&&!n()&&(_e.set(u()?.stacks),Le.set(!0))}),Ee(()=>(a(),o(l)),()=>{S(c,a().filter(j=>j.title.toLowerCase().includes(o(l).toLowerCase())||j.author.toLowerCase().includes(o(l).toLowerCase())))}),Ee(()=>(o(g),o(c)),()=>{S(f,o(g)?o(c).filter(j=>j.status===o(g)):o(c))}),Ft(),we();var X=Mn(),v=E(x(X),2),y=x(v),O=E(y,2);Dn(O,{onSearch:C});var N=E(O,2);In(N,{get selectedStatus(){return o(g)},toggle:J}),w(v);var D=E(v,4),F=x(D);{var ge=j=>{{let I=Oe(()=>o(p)==="new");at(j,{mode:"new",onUpdate:P,onCancel:H,onDelete:R,get updating(){return o(I)}})}};$(F,j=>{o(m)&&j(ge)})}var xe=E(F,2);ot(xe,1,()=>o(f),j=>j.id,(j,I)=>{var ke=V(),Te=A(ke);{var Se=ie=>{{let ce=Oe(()=>(o(p),o(I),z(()=>o(p)===o(I).id)));at(ie,{get stack(){return o(I)},onUpdate:T,onCancel:H,onDelete:R,get updating(){return o(ce)}})}},me=ie=>{{let ce=Oe(()=>(o(p),o(I),z(()=>o(p)===o(I).id)));On(ie,{get stack(){return o(I)},onEdit:k,onDelete:R,get updating(){return o(ce)}})}};$(Te,ie=>{o(I),o(i),z(()=>o(I).id===o(i))?ie(Se):ie(me,!1)})}h(j,ke)}),w(D),w(X),le("click",y,K),h(e,X),B(),d()}export{Gn as component,Jn as universal};
